[SERVICE]
    Flush         1
    Log_Level     info
    Parsers_File  parsers.conf     # <-- Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ñ‹Ðµ Ð¿Ð°Ñ€ÑÐµÑ€Ñ‹!
    HTTP_Server   On
    HTTP_Listen   0.0.0.0
    HTTP_Port     2020

# --- INPUT: Docker jsonâ€‘logs -------------------------------------
[INPUT]
    Name          tail
    Path          /var/lib/docker/containers/*/*.log
    Parser        docker              # Ñ‚ÐµÐ¿ÐµÑ€ÑŒ Ð½Ð°Ð¹Ð´ÐµÑ‚ Ð¿Ð°Ñ€ÑÐµÑ€
    Tag           compose.*
    Mem_Buf_Limit 128MB
    Skip_Long_Lines On

# --- OUTPUT: Loki -------------------------------------------------
[OUTPUT]
    Name          loki
    Match         compose.*

    Host          loki                # ðŸ”„ Ð²Ð¼ÐµÑÑ‚Ð¾ Url
    Port          3100
    Uri           /loki/api/v1/push   # Ð¿Ð¾â€‘ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ Ð¸Ð¼ÐµÐ½Ð½Ð¾ Ñ‚Ð°Ðº, Ð¼Ð¾Ð¶Ð½Ð¾ ÑƒÐ±Ñ€Ð°Ñ‚ÑŒ

    Labels        job=compose,container=$container_name
    Line_Format   json                # Ð¾Ðº
